================================================================================
                           FORMULA PADEL - MASTER GUIDE
================================================================================

PROGETTO: Sistema di gestione torneo padel completo
DATA: 9 Novembre 2025
VERSIONE: Clean Start - V2.0

================================================================================
                              OBIETTIVO PRINCIPALE
================================================================================

Creare un'applicazione web completa per gestire tornei di padel con:
- Gestire l'impostazione del torneo con i parametri critici
    - Nome del torneo
    - Numero di Giocatori - Np
        - Numero di Teams che si possono creare per ogni round - Nt = Np/2
    - Numero di campi su cui giocare - Nc
    - Numero di Round da disputare:
        - RoundMax = Np/2 - 1 (ogni giocatore puÃ² affrontare tutti gli altri della categoria opposta)
        - LOGICA: 16 players = 8 COLORS + 8 BEASTS â†’ 1 COLOR vs 7 diversi COLORS = 7 rounds max
        - RoundMin = numero che garantisce equilibrio match per tutti i giocatori
        - Vincolo riposi: Nessun player riposa 2 round consecutivi
        - Algoritmo riposi: Round 1 sorteggio casuale, Round 2+ prioritÃ  a chi ha riposato
    - Durata dei match - MatchDuration
- Gestione giocatori 
    - Creare un set di giocatori di default
    - Consentire l'editing dei parametri
    - Creazione del RAnking dei giocatore in base al parametro - PlayerScore
    - Dividere i players in 2 categorie in modo dinamico tra i top 50% del ranking con nome BEASTS e il bottom 50% con nome categoria COLORS
    - Associare ad ogni player un Alias e un Icon identificativi causali estratti tra un set predefinito - Alais_Id
    - Salvare il set di giocatori prima di abilitare i TEAMS 
- Generazione teams automatica
    - Generare un gruppo di TEAMS per ogni Round
    - Implementare i requisiti di TEAMS fondamentali
        - Ogni Teams creato tra un player della categoria COLORS e uno della categoria BEASTS estratti a caso
        - Ogni TEAMS ha un nome composto da Player_Coloro_Alias & " " & Player_Beast_Alias
        - Ogni TEAMS ha uno score pari alla media degli score dei singoli players Team_score= (Player_color_score + players_beast)/2
        - I TEAMS vengono messi in un ranking sulla base dello score medio Team_score , Team(N) N posizione nel ranking
        - I TEAMS vengono salvati prima di procedere al gruppo di TEAMS successivo 
        - Il round successivo deve essere creato con lo stesso meccanismo ma evitando i dupplicati, quindi per ogni giocatore colors puo essere estratto un giocatore BEAST da un sottoelenco pari al elenco iniziale meno i players con cui ha gia giocato nei round precedenti
        - Se il numero di Courts Nc Ã¨ minore del numero di TEAMS Nt/2 allora ci saranno TEAM in riserva 
        - I TEAMs in riserva seguono algoritmo riposi con prioritÃ :
            * Round 1: Sorteggio casuale determina chi gioca e chi riposa
            * Round 2+: Players che hanno riposato hanno prioritÃ  di gioco
            * Vincolo: Nessun player riposa 2 round consecutivi
        - Rotazione alternata garantisce equilibrio match per tutti

- Sistema round con match cards
    - I rounds possono essere generati una volta confermati i TEAMS del Gruppo corrispondente, Gruppo teams 1 --> Round 1
    - Rounds sono definiti con modello Team(N) vs Team(N+1)
    - I Rounds vengono definiti dal accopiamento dei TEAMS in base al ranking dei TEAMS in modo da avere lo scarto minimo tra gli score dei teams Score_delta = Team(N)_Score - Team(N+1)_score
    - L'abbinamento deve fare un eccezione se i player di TeamA e TeamB si sono gia affrontati nel Round precedente, in quel caso Team(N) vs Team(N+2) e Team(N+1) vs Team(N+3) e aggiustamenti successivi
    - IMPORTANTE: Il controllo duplicati Ã¨ NICE TO HAVE - NON deve bloccare la generazione rounds se complesso
    - PrioritÃ : FUNZIONALITÃ€ BASE > PERFEZIONE algoritmo
    - I Rounds sono presentati congiuntamente con caselle per l'inserimento dei risultati
    - Ogni match Ã¨ presentato con un countdown timer sulla base del MAtch_Duration
    - Ogni match ha un taso Close the match to save the results
    - Una volta che tutti i risultati sono salvati Ã¨ possibile generare un nuovo round 

- Classifica finale
    - Gestione della classifica in base ai risulatati dei match in ogni round
    - SISTEMA SCORING DOPPIO:
        * GAME POINTS: 1 punto per ogni game vinto (anche perdendo il match)
        * MATCH BONUS: +1 punto per vincere l'intero match
    - ESEMPIO: Match 6-3 â†’ Vincitore: 6 game points + 1 match bonus = 7 punti | Perdente: 3 game points + 0 match bonus = 3 punti
    - La classifica mostra:
        - Player Name
        - Games Won (somma game points ottenuti)
        - Games Lost (somma game persi)
        - Matches Won (numero di match vinti)
        - Total Points (game points + match bonuses)
        - Game Difference (games won - games lost)
        - Matches Played (numero di match giocati)


USARE LINGUA INGLESE per l'interfaccia

================================================================================
                               FUNZIONALITÃ€ CORE
================================================================================

1. GESTIONE GIOCATORI
   - [PRIORITÃ€: ALTA]
   - Crea un set di giocatori di default su base di assortimento predefinato
   - Aggiunta/rimozione giocatori
   - Creazione ranking e split in categoria BEAST e COLOR
   - Profili con nome, skill level, Alias e Alias Emoji, categoria
   - Editing dei dati, nome, alias (pickup list)
   - Import/export database giocatori

2. GENERAZIONE TEAMS
   - [PRIORITÃ€: ALTA] 
   - Algoritmo bilanciato per formare coppie
   - Crea un gruppo di TEAMS per ogni ROUND
   - I TEAMS non si ripetono in Round successivi, mantiene lo storico dei TEAMS confermati
   - Crea un ranking basato sullo score medio dei giocatori del team
   - Preview e conferma teams necessaria per poter passare al panello ROUNDS

3. SISTEMA ROUNDS â­ FOCUS PRINCIPALE â­
   - [PRIORITÃ€: MASSIMA]
   - Frame collassabile "ROUND 1", "ROUND 2", etc.
   - All'interno: match cards individuali per ogni MATCH 
   - Ogni match card contiene:
     * TEAM NAME 1 vs TEAM NAME 2
     * Emojis TEAM A e Emoji TEAM B
     * Nome dei giocatori
     * Score boxes (input numerici)
     * Timer con tasti START/STOP
     * Pulsante SAVE MATCH
    - Round successivo gneerato quando tutti i match hanno risultati salvati 

4. CLASSIFICA LIVE
   - [PRIORITÃ€: MEDIA]
   - Sistema scoring doppio: Game points (1 per game vinto) + Match bonus (1 per match vinto)
   - Aggiornamento automatico dopo ogni match
   - Colonne: Games Won/Lost, Matches Won, Total Points, Game Difference
   - Export risultati finali
   - Animazione Podio finale 

================================================================================
                          DECISIONI ARCHITETTURALI FINALI
================================================================================

## DATABASE & STORAGE STRATEGY

**1. NOMI DEFAULT:**
- âœ… **BUCKET STORAGE**: 32 players template in database
- âœ… **DYNAMIC DEFAULT**: Load subset based on tournament size (8,16,24,32)
- Bucket â†’ Default â†’ Edit with real names
- FacilitÃ  aggiornamento bucket senza ricompilare codice

**2. PLAYER ALIASES:**
- âœ… **EMOJI BUCKET**: 40+ emoji stored for random assignment
- âœ… **RANDOM FILLING**: Emoji assegnati casualmente dal bucket ai default players
- Sistema emoji immediato (no dipendenze icone esterne)
- FUTURO: Preparato per icone personalizzate quando disponibili

**3. TEAMS MANAGEMENT:**
- âœ… DATABASE NECESSARIO per tracking accoppiamenti
- Salvare storico accoppiamenti precedenti per garantire univocitÃ 
- Algoritmo anti-ripetizione basato su database teams history
- Teams univoci + Rounds univoci = varietÃ  garantita nel tempo

**4. IMPORT/EXPORT CSV:**
- ğŸ“‹ FEATURE FUTURA - non blocca sviluppo corrente
- Import CSV per bulk loading players
- Export risultati finali per analisi esterne
- Implementazione step 4-5 del roadmap

**5. SVILUPPO INCREMENTALE:**
- ğŸ¯ STEP-BY-STEP approach per stabilizzazione graduale
- Focus su: funzionalitÃ  base â†’ testing â†’ ottimizzazioni
- NO complex features che rallentano delivery

**6. ALGORITMO BILANCIAMENTO TEAMS:**
- ğŸ“Š RANKING AUTOMATICO: Ordina players per score (alto â†’ basso)
- ğŸ”¥ TOP 50% = BEASTS (giocatori piÃ¹ forti)
- ğŸ¨ BOTTOM 50% = COLORS (giocatori piÃ¹ deboli)  
- ğŸ¤ TEAM FORMULA: 1 BEAST + 1 COLOR = team bilanciato
- ğŸ”„ ROTAZIONE: teams history evita ripetizioni accoppiamenti

**7. FEATURES POSTICIPATE E IMPLEMENTAZIONI SPECIFICHE:**
- ğŸ“‹ **IMPORT CSV**: Posticipato a FASE 6 (ottimizzazioni)
- ğŸ’¾ **BACKUP SISTEMA**: Posticipato a FASE 6 (ottimizzazioni) - Feature complessa per save/resume tornei
- â° **TIMER COUNTDOWN**: Implementazione specifica definita

**TIMER IMPLEMENTATION:**
- ğŸ• **Countdown Timer**: Parte da MATCH_Duration (impostato in tournament settings)
- ğŸŸ¢ **Normal State**: Colore standard (verde/bianco)
- ğŸŸ¡ **Warning State**: Ultimi 2 minuti â†’ Cambio colore background o font numeri
- ğŸ”´ **Finished State**: Timer a zero â†’ Colore rosso finale
- ğŸ¯ **Visual Alert**: Cambio colore graduale per indicare tempo rimanente

**DECISIONI PUNTO 7:**
- âœ… Import/Export giocatori da CSV â†’ FASE 6 (non blocca sviluppo core)
- âœ… Backup/restore tornei â†’ FASE 6 (feature complessa, focus su funzionalitÃ  base prima)
- âœ… Timer visual warning â†’ Implementazione countdown con alert colori ultimi 2 minuti

**ESEMPIO PRATICO BUCKET SYSTEM:**
- **BUCKET STORAGE**: 32 players template stored in database (Player 01 â†’ Player 32)
- **EMOJI BUCKET**: 40+ emoji stored for random assignment ğŸ¾âš¡ğŸ”¥ğŸŒŸğŸ’«â­ğŸ†ğŸš€ğŸ’ğŸ‘‘...

**DYNAMIC DEFAULT GENERATION:**
- **8 players tournament**: Load Player 01-08 â†’ Random emoji assignment â†’ Edit with real names â†’ Auto ranking â†’ Top 4 BEASTS + Bottom 4 COLORS â†’ 4 balanced teams
- **16 players tournament**: Load Player 01-16 â†’ Random emoji assignment â†’ Edit with real names â†’ Auto ranking â†’ Top 8 BEASTS + Bottom 8 COLORS â†’ 8 balanced teams  
- **24 players tournament**: Load Player 01-24 â†’ Random emoji assignment â†’ Edit with real names â†’ Auto ranking â†’ Top 12 BEASTS + Bottom 12 COLORS â†’ 12 balanced teams
- **32 players tournament**: Load all 32 â†’ Random emoji assignment â†’ Edit with real names â†’ Auto ranking â†’ Top 16 BEASTS + Bottom 16 COLORS â†’ 16 balanced teams

**FLOW**: BUCKET â†’ DEFAULT (subset) â†’ EDIT â†’ RANKING â†’ TEAMS

**ROUNDMIN CALCULATION EXAMPLES:**
- 8 players, 2 courts â†’ 4 play + 4 rest â†’ Min 2 rounds for balance
- 16 players, 4 courts â†’ 8 play + 8 rest â†’ Min 2 rounds for balance  
- 24 players, 4 courts â†’ 16 play + 8 rest â†’ Min 3 rounds for balance
- 32 players, 8 courts â†’ 16 play + 16 rest â†’ Min 2 rounds for balance

================================================================================
                              PRIORITÃ€ DI SVILUPPO
================================================================================

FASE 0: TOURNAMENT SETTINGS (FOUNDATION) âš™ï¸
- ğŸ¯ UI configurazione parametri torneo (ENGLISH INTERFACE)
- ğŸ¯ Selezione numero giocatori: SOLO 8, 16, 24, 32 (no numeri dispari)
- ğŸ¯ Durata match (15-30 min)
- ğŸ¯ Numero campi disponibili (1-8)
- ğŸ¯ Nome torneo e location
- ğŸ¯ CALCOLO AUTOMATICO RoundMin per equilibrio match
- ğŸ¯ Inizializzazione database con players template dal BUCKET
- ğŸ¯ MILESTONE: Parametri salvati e confermati

**ALGORITMO ROUNDMIN:**
- Obiettivo: Garantire stesso numero di match per tutti i players
- Formula: RoundMin = ceil(NumPlayers / (NumCourts * 2))
- Esempio: 24 players, 4 campi â†’ 16 giocano + 8 riposano â†’ Min 3 round per 2+ match ciascuno
- Constraint: Nessun player riposa 2 round consecutivi

**TOURNAMENT STRUCTURE:**
- âŒ NO PLAYOFF finali
- âŒ NO numeri dispari players 
- âœ… Solo classifica generale finale
- âœ… Interfaccia completamente in INGLESE

FASE 1: PLAYERS MANAGEMENT (STEP 1) ğŸ‘¥
- ğŸ¯ **BUCKET SYSTEM**: 32 players template stored in database
- ğŸ¯ **DYNAMIC DEFAULT**: carica subset dal bucket in base a tournament size
  * 8 players tournament â†’ Load first 8 from bucket (Player 01-08) 
  * 16 players tournament â†’ Load first 16 from bucket (Player 01-16)
  * 24 players tournament â†’ Load first 24 from bucket (Player 01-24) 
  * 32 players tournament â†’ Load all 32 from bucket (Player 01-32)
- ğŸ¯ **RANDOM ALIAS ASSIGNMENT**: Emoji assegnati casualmente dal bucket emoji disponibili
- ğŸ¯ Edit players: Replace template names with real players
- ğŸ¯ Assign custom scores (1-10)
- ğŸ¯ DYNAMIC RANKING: Auto ranking to divide BEASTS/COLORS
- ğŸ¯ Preview players with assigned categories and emoji
- ğŸ¯ MILESTONE: Players configured and ranking calculated

FASE 2: TEAMS GENERATION (STEP 2) ğŸ¤
- ğŸ¯ Algoritmo bilanciato: 1 BEAST + 1 COLOR per team
- ğŸ¯ Integrazione team_pairings_history per unicitÃ 
- ğŸ¯ UI preview teams con emoji
- ğŸ¯ Sistema conferma teams per proceed to rounds
- ğŸ¯ MILESTONE: Teams bilanciati e confermati

FASE 3: ROUNDS SYSTEM (STEP 3 - CORE) âš¡
- ğŸ¯ Creazione UI rounds con match cards
- ğŸ¯ Sistema timer funzionante per ogni match
- ğŸ¯ Input scoring per ogni game
- ğŸ¯ Save match results nel database
- ğŸ¯ Sistema riposi alternato
- ğŸ¯ Round progression automatico
- ğŸ¯ MILESTONE: Round completo funzionante

FASE 4: SCORING & RANKING (STEP 4) ğŸ†
- ğŸ”„ Sistema classifica live
- ğŸ”„ Calcolo punti: Game points + Match bonus
- ğŸ”„ Aggiornamento automatico dopo ogni match
- ğŸ”„ Display ranking in real-time
- ğŸ”„ Export risultati finali

FASE 5: INTEGRATION & TESTING (STEP 5) ğŸ§ª
- ğŸ”„ Testing completo end-to-end
- ğŸ”„ Bug fixing e stabilizzazione
- ğŸ”„ Performance optimization
- ğŸ”„ UI/UX refinement
- ğŸ”„ Documentation finale

FASE 6: OTTIMIZZAZIONI (NICE TO HAVE) âœ¨
- ğŸ”„ Import/Export CSV
- ğŸ”„ Advanced UI animations
- ğŸ”„ Statistics avanzate
- ğŸ”„ Backup/restore functionality
- ğŸ”„ Mobile optimizations

STRATEGIA SVILUPPO:
- ğŸ¯ APPROCCIO STEP-BY-STEP: Una fase alla volta
- âœ… TESTING MILESTONE: Ogni fase deve funzionare prima di continuare
- ğŸ”’ QUALITY GATE: No complex features che bloccano il progresso
- ğŸ¯ PRAGMATIC FIRST: FunzionalitÃ  base > Algoritmi perfetti
- ğŸ“‹ DAILY PROGRESS: Focus su deliverables misurabili

MILESTONE TESTING PER FASE:
- FASE 1: HTML carica, CSS responsive, JS modules loaded
- FASE 2: Players CRUD completo, emoji assegnati correttamente
- FASE 3: Teams generation senza duplicati, UI preview ok
- FASE 4: Timer + scoring + save funzionanti per 1 round completo
- FASE 5: Classifica aggiornata automaticamente, export dati
- FASE 6: Features aggiuntive solo se non impattano stabilitÃ 

BLOCCHI SVILUPPO DA EVITARE:
- âŒ Algoritmi complessi di ottimizzazione abbinamenti
- âŒ UI animations elaborate
- âŒ Features "nice-to-have" che rallentano core functionality
- âŒ Over-engineering database structure
- âœ… Focus: WORKING FUNCTIONALITY > PERFECT ALGORITHMS

================================================================================
                                STRUTTURA UI
================================================================================

LAYOUT PRINCIPALE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FORMULA PADEL - Tournament Manager                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Tournament][Players] [Teams] [Rounds] [League]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  TAB ROUNDS (DESIGN PRINCIPALE):                           â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€ ROUND 1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€ MATCH 1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ Team Alpha vs Team Beta                      â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ [2] - [1]    Timer: 25:00  [START] [SAVE]   â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€ MATCH 2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ Team Gamma vs Team Delta                     â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ [0] - [0]    Timer: 25:00  [START] [SAVE]   â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€ ROUND 2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€ MATCH 1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ Team Alpha vs Team Gamma                     â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ [_] - [_]    Timer: 25:00   [START] [SAVE]   â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
                               SPECIFICHE TECNICHE
================================================================================

TECNOLOGIE:
- HTML5, CSS3, JavaScript ES6+
- Moduli ES6 per organizzazione codice
- SQLite database per persistenza scalabile
- Responsive design

ARCHITETTURA:
- app.js: Controller principale
- rounds-manager.js: Gestione rounds e match cards
- timer-manager.js: Sistema timer
- database/: Sistema database SQLite
  â”œâ”€â”€ schema.sql: Struttura tabelle
  â””â”€â”€ database-manager.js: JavaScript wrapper
- ui-components.js: Componenti UI riutilizzabili

DATABASE SCHEMA:
- tournaments: Dati tornei principali
- default_names: **BUCKET** 32 players template (Player 01-32) con score default
- tournament_players: **DEFAULT SUBSET** loaded dinamicamente per torneo (8,16,24,32)
- teams: Coppie generate per torneo per ogni gruppo  
- team_pairings_history: Tracking accoppiamenti per unicitÃ 
- rounds: Organizzazione matches ogni round
- matches: Singole partite con scores
- player_stats: Statistiche automatiche calcolate

COMPONENTI CHIAVE:
- MatchCard: Singola carta match con timer/scoring
- RoundContainer: Container per group di match
- Timer: Countdown timer con start/stop/reset
- ScoreInput: Input numerico per punteggi

DEFAULT VALUES (bucket system):
- Player template: "Player 01" to "Player 32" (score default: 5)
- Player numbers: ONLY 8, 16, 24, 32 (no odd numbers)
- Emoji aliases: ğŸ¾âš¡ğŸ”¥ğŸŒŸğŸ’«â­ğŸ†ğŸš€ğŸ’ğŸ‘‘ğŸ¦…ğŸ…ğŸ¦ğŸºâš½ğŸ€ğŸ¯ğŸ’ªğŸ”±âš”ï¸ğŸ›¡ï¸ğŸ¹ğŸªğŸ­ğŸ¨ğŸµğŸ¸ğŸ¥ğŸºğŸ»ğŸ¤ğŸ¬ğŸŒ¶ï¸ğŸ•ğŸ”ğŸŒ®ğŸ°ğŸ©â˜•ğŸ¥¤
- Timer duration options: 10,15,20,25,30,45,60,90 minutes
- Courts number: 1 to 8
- Round numbers: from RoundMin (balance) to RoundMax (Np-1)

================================================================================
                           ALGORITMO RIPOSI DETTAGLIATO
================================================================================

LOGICA PRIORITÃ€ RIPOSI:
1. Round 1: Sorteggio casuale definisce Gruppo A (attivo) e Gruppo B (riposo)
2. Round 2: Gruppo B ha prioritÃ  (era in riposo) â†’ diventa attivo
3. Round 3: Gruppo A ha prioritÃ  (era in riposo Round 2) â†’ diventa attivo
4. Rotazione alternata continua...

ESEMPIO PRATICO (16 players, 4 campi):
Round 1: Attivi P1,P2,P3,P4,P5,P6,P7,P8 | Riposo P9-P16
Round 2: Attivi P9,P10,P11,P12,P13,P14,P15,P16 | Riposo P1-P8  
Round 3: Attivi P1,P2,P3,P4,P5,P6,P7,P8 | Riposo P9-P16

VINCOLI GARANTITI:
- Nessun player riposa 2 round consecutivi
- Ogni player gioca stesso numero di round
- Teams formati solo tra players attivi del round
- Equilibrio automatico senza calcoli complessi

ALGORITMO ABBINAMENTI (PRIORITÃ€):
1. MUST HAVE: Teams univoci per round + Riposi alternati
2. MUST HAVE: Abbinamenti per ranking (Team N vs Team N+1) 
3. NICE TO HAVE: Evitare re-match tra players (implementare solo se semplice)
4. REGOLA: NON bloccare generazione rounds su ottimizzazioni complesse

================================================================================
                              SISTEMA SCORING DETTAGLIATO
================================================================================

DOPPIO PUNTEGGIO:
1ï¸âƒ£ GAME POINTS: 1 punto per ogni game vinto (anche perdendo il match)
2ï¸âƒ£ MATCH BONUS: +1 punto per vincere l'intero match

ESEMPIO PRATICO:
Match: Team A vs Team B â†’ Risultato: 6-3 (Team A vince)

PUNTEGGI INDIVIDUALI:
- Player A1: +6 game points + 1 match bonus = 7 punti totali
- Player A2: +6 game points + 1 match bonus = 7 punti totali  
- Player B1: +3 game points + 0 match bonus = 3 punti totali
- Player B2: +3 game points + 0 match bonus = 3 punti totali

CLASSIFICA FINALE COLONNE:
- Player Name
- Games Won (somma game points)
- Games Lost (somma game persi)  
- Matches Won (numero match vinti)
- Matches Played (numero match giocati)
- Total Points (game points + match bonuses)
- Game Difference (games won - games lost)

VANTAGGI SISTEMA:
âœ… Incentiva a lottare anche perdendo il match
âœ… Match winner ottiene vantaggio (bonus)
âœ… PiÃ¹ equo per valutare performance individuale
âœ… Discriminante migliore per classifica finale

================================================================================  
================================================================================
                                  NOTE DESIGN
================================================================================

COLORI:
- Primary: #cba302ff (blu)
- Secondary: #1c00bbff (verde)
- Text: #6e6e6eff (verde)
- Danger: #e74c3c (rosso)
- Warning: #f39c12 (arancione)
- Boxes: #ecd372ff (grigio chiaro)

TIMER STATES:
- IDLE: Grigio, mostra durata iniziale (es. 25:00)
- RUNNING: Verde, countdown attivo da MATCH_Duration impostato
- WARNING (Last 2 minutes): Cambio colore background o font numeri per visual alert
- PAUSED: Arancione, timer fermato
- FINISHED: Rosso, tempo scaduto (00:00)


================================================================================
                               IMPLEMENTAZIONE
================================================================================

PROSSIMI STEP:
1. Creare index.html con struttura base
2. Implementare CSS per layout rounds
3. Creare rounds-manager.js con match cards
4. Sviluppare sistema timer
5. Aggiungere persistenza dati
6. Testing e debugging

CRITERI SUCCESSO:
- Gestione dinamica dei players and del ranking
- Generazione di TEAMS corretti e univoci
- Creazione di Rounds 
- Visualizzazione chiara dei rounds
- Timer funzionante per ogni match
- Scoring salvabile
- UI responsive e intuitiva
- Codice modulare e manutenibile

================================================================================